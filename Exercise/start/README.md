# Bookstore Application - Getting Started

This is the starting point for the .NET Aspire Bookstore Workshop. This version contains a complete bookstore application without Aspire integration.

## Architecture

The application consists of four main components:

### 1. **Bookstore.API** (Port 7032)
REST API that provides:
- Book management endpoints (CRUD operations)
- Shopping cart management
- Order processing
- Message queue for AI worker

### 2. **Bookstore.Web** (Port 7266)
Blazor Server-Side customer-facing web application featuring:
- Book catalog with shopping cart
- Cart management page
- Checkout process
- Modern bookstore UI

### 3. **Bookstore.Admin** (Port 5174)
React-based admin panel for:
- Adding new books
- Viewing all books
- Managing inventory
- Viewing customer orders

### 4. **Bookstore.Worker**
Background worker service that:
- Polls the API for new book additions
- Generates random placeholder descriptions
- Updates book descriptions via API
- (Will be replaced with real AI in Lesson 3)

## Prerequisites

- [.NET 9.0 SDK](https://dotnet.microsoft.com/download)
- [Node.js](https://nodejs.org/) (for React Admin app)
- Your favorite code editor (Visual Studio, VS Code, Rider, etc.)

## Running the Application

### Option 1: Using the Run Scripts (Recommended)

**Windows:**
```bash
run.bat
```

**Linux/Mac:**
```bash
chmod +x run.sh
./run.sh
```

### Option 2: Manual Start

**Terminal 1 - API:**
```bash
cd Bookstore.API
dotnet run
```

**Terminal 2 - Worker:**
```bash
cd Bookstore.Worker
dotnet run
```

**Terminal 3 - Web (Customer App):**
```bash
cd Bookstore.Web/Bookstore.Web
dotnet run
```

**Terminal 4 - Admin:**
```bash
cd Bookstore.Admin
npm install  # First time only
npm run dev
```

## Accessing the Applications

- **Customer Store:** https://localhost:7266
- **Admin Panel:** http://localhost:5174
- **API:** https://localhost:7032
- **API Documentation:** https://localhost:7032/openapi/v1.json

## Features

### Customer Experience (Bookstore.Web)
- Browse book catalog with images
- Add books to shopping cart
- View and manage cart
- Complete checkout process

### Admin Experience (Bookstore.Admin)
- Add new books to inventory
- View all books with details
- Delete books from catalog
- View customer orders
- AI descriptions auto-generated by worker

### Background Processing (Bookstore.Worker)
- Automatically processes new book additions
- Generates random descriptions (simulating AI)
- Runs every 10 seconds checking for new books

## What's Next?

In the upcoming lessons, you will:

- **Lesson 1:** Add .NET Aspire orchestration with AppHost
- **Lesson 2:** Integrate Cosmos DB, Redis caching, and message queues
- **Lesson 3:** Replace random descriptions with real AI using GitHub Models

## Project Structure

```
start/
â”œâ”€â”€ Bookstore.API/              # REST API backend
â”œâ”€â”€ Bookstore.Web/              # Blazor customer app
â”œâ”€â”€ Bookstore.Admin/            # React admin panel
â”œâ”€â”€ Bookstore.Worker/           # Background worker service
â”œâ”€â”€ Bookstore.Shared/           # Shared models
â”œâ”€â”€ run.bat                     # Windows startup script
â””â”€â”€ run.sh                      # Linux/Mac startup script
```

## Troubleshooting

### Port Already in Use
If you see port conflicts, stop any existing processes using those ports or modify the port numbers in:
- `Bookstore.API/Properties/launchSettings.json`
- `Bookstore.Web/Bookstore.Web/Properties/launchSettings.json`
- `Bookstore.Admin/vite.config.js`

### SSL Certificate Issues
If you encounter SSL certificate errors, run:
```bash
dotnet dev-certs https --trust
```

### Admin App Won't Start
Make sure Node.js is installed and run:
```bash
cd Bookstore.Admin
npm install
npm run dev
```

## Notes

- This version uses in-memory data storage (data is lost on restart)
- Cart IDs are hardcoded to "default-cart" for simplicity
- Worker polls the API every 10 seconds
- All services must be running for full functionality

Happy coding! ðŸš€
